**Нагрузочное тестирование учебного веб приложения для курса SRE**

Объектом данного нагрузочного тестирования является веб приложение находящееся в кластере Kubernetes, ранее установленное при помощи инструмента HELM, в рамках изучения курса SRE

Задействовано  3  пода для работы приложения и виртуальная отказоустойчивая инфраструктура БД в облаке 

Нефункциональные требования по производительности к системе (SLO/SLA) принимаются такие:

•	API server – снимаем метрики с load balancer:

a.	Availability – total requests сравниваем с 500-ми, устанавливаем SLO на 97%

b.	Latency – total requests сравниваем с количество ответов, отданных быстрее «достаточно быстро», например, < 400 ms. Тогда SLO: 90% of requests < 200ms, 99% of requests < 400ms


Основная гипотеза, при помощи нагрузочного тестирования подтверждаем работоспособность в заданных рамках в 500 RPS на 1 под, суммарно 1500 rps

Проверка гипотезы будет осуществляться с помощью инструмента НТ JMeter
профиль НТ для wheather-api.sre.example.jmx

**Поведение системы с нагрузкой  в 1500 rps**
![ Alt 1](https://github.com/mnkozhin/DZ_SRE_3/blob/main/1_1500rps.JPG)
 ![ Alt 2](https://github.com/mnkozhin/DZ_SRE_3/blob/main/1_1500rps_ag.JPG)
 ![ Alt 3](https://github.com/mnkozhin/DZ_SRE_3/blob/main/1_1500rps_rtg.JPG)
 
Система стабильна, ошибок нет, 95% перцентиль Latency   не превышает 177 мс

Нагрузка CPU подов не превышает 95%, поды не перезагружаются

**Поведение системы с нагрузкой  в 1700 rps**

 ![ Alt 1](https://github.com/mnkozhin/DZ_SRE_3/blob/main/1_1700rps.JPG)
 ![ Alt 2](https://github.com/mnkozhin/DZ_SRE_3/blob/main/1_1700rps_ag.JPG)
 ![ Alt 3](https://github.com/mnkozhin/DZ_SRE_3/blob/main/1_1700rps_rtg.JPG)
  
Система нестабильна. Нагрузка CPU подов  превышает 95%, возникают ошибки, поды перезагружаются, 95% перцентиль Latency   ~400 мс, отдельные запросы выполняются 6-10 сек.

Вывод, при текущей архитектуре системы, предельная нагрузка на сервис составляет 1500 rps  
 
